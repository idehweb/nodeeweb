const MellatCheckout = require('./index');

const mellat = new MellatCheckout({
  terminalId: '2231895',
  username: 'zoop99',
  password: '42841369',
  timeout: 10000, // Optional, number in millisecond (defaults to 10 sec)
  apiUrl: 'https://bpm.shaparak.ir/pgwchannel/services/pgw?wsdl', // Optional, exists (and may updated) in bank documentation (defaults to this)
});

/*
mellat.paymentRequest({
  amount: 100, // Payment Amount In Rials
  orderId: '12345678912', // OrderID Generated By You
  callbackUrl: 'http://myurl.ir/redirect', // Payment Callback URL
  payerId: '0', // Optional
}).then(function (response) {
  console.log('HIIII');
  if (response.resCode === '0') {
    console.log(response.refId);
  } else {
    console.warn('Gateway Error: ', response.resCode);
  }
}).catch(function (error) {
  console.error(error);
}); */

mellat.inquiryRequest({ orderId: 1, saleOrderId: 1, saleReferenceId: 1 }, (err, res) => {
  console.log(err);
  console.log(res);
});
